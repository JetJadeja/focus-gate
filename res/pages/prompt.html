<!DOCTYPE html>
<html>
	<head>
		<title>hey! reflect.</title>
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,600&display=swap" rel="stylesheet">
	</head>
	<body>
		<div id="reflect-main">
			<img id="top-left-blob" class="blob">
			<img id="bottom-right-blob" class="blob">
			<img id="small-blob1" class="blob">
			<img id="small-blob2" class="blob">
			<div id="top-text">
				<h1>reflect.</h1>
				<p>hey! what are you here for?</p>
			</div>
			<form id="inputForm">
			  <input type="text" name="intent" placeholder="i'm trying to..." class="maintext"><br><br><br>
			  <input type="submit" value="enter.">
			</form> 
			<div id="bottom-right-logo-text">
				<h1>r.</h1>
			</div>
		</div>
	</body>
    <script>
    	// listen for form submit
		document.forms['inputForm'].addEventListener('submit', (event) => {
			// prevent default submit
		    event.preventDefault();

		    // extract entry
		    intent = (new FormData(event.target)).get('intent')

		    // store in chrome storage
    		chrome.storage.sync.set({ 'lastIntent': intent }, function(data) {
				console.log('Intent set to: ' + intent);
			});
		});
    </script>
</html>
